#### note:
&nbsp;&nbsp;&nbsp;&nbsp;文章大致介绍了小冰整个对话框架的设计。
  + 1. 设计原则
    + 1.1. 拥有三个层面的能力
      + a. IQ：acquire a range of skills to keep up with the users and help them to complete specific tasks。如：回答知识性问题、根据用户发的图回复内容（paper4.4.1）、作诗（4.4.2）；
      + b. EQ：meet users’ emotional needs, such as emotional affection and social belonging。分两部分：empathy and social skills，用通俗的话讲为：理解用户情感状态，并用用户能接收的方式回复；
      + c. Personality。用于“小冰”角色独特的个性，并保持这种个性的稳定（不会今天是女孩，明天又以说出了男孩才会说出来的话）；
    + 1.2. 评价指标——CPS（Conversation-turns Per Session, 每次会话对话轮数，“用户说一次”+“机器人回复一次”算一轮）；
    + 1.3. 层级决策过程
      + 将用户会话过程当做马尔科夫决策过程，决策标准CPS：让用户尽可能多发言。
  + 2. 系统框架。分三部分：
    + 用户入口层。eg：微博、QQ、微信等；
    + 会话引擎层。判断用户说的话究竟回复什么内容，是看图评论，还是知识性问题，还是闲聊等；
    + 数据层。人物画像（小冰+用户）、数据库（问答对+非问答对）、主题索引和知识图谱。
  + 3. 会话引擎层
    + 3.1. 会话管理——追踪会话状态
      + a. 对话策略。将用户输入分三部分：核心对话、图片/音频评论、任务型；
      + b. 主题管理。当分类器检测到接下来无话可说时，将切换有实质性内容的主题，切换时有5个指标判断待回复内容的合理性（上下文关联性、时效性、用户个人兴趣、受欢迎程度、用户接收程度）；
    + 3.2. 共情计算（用于后续核心对话）
      + a. 上下文理解。实体识别、指代消歧、文本补全；
      + b. 用户理解。是否在同一主题、用户想要什么（请求？问候？表述？）
      + c. 用户情绪。开心？难过？
      + d. 用户态度。对话题的态度；
      + e. 用户画像。
    + 3.3. 核心对话
      + a. 检索pair数据回复；
      + b. 生成式回复。如用seg2seq生成；
      + c. 检索非pair数据回复。使用知识图谱选取关联词，然后检索非pair数据；
      + d. 将以上三种内容结果通过重排方式得到最终结果，排序时考虑维度：与当前回合用户的输入语义是否一致、上下文一致性、共情匹配程度（用3.2部分的特征计算评分），检索分数（eg：BM25）；
      + e. 如果以上策略仍无结果返回，便回复有指引性的话，让用户多说话。

#### comment:
  1. 从小冰的设计理念来看，有好的方面——能让用户尽可能地参与，但也有不太好的方面——为了会话而会话。可能这也是其设计评估指标上的考量；
  2. 整个系统看起来比较复杂，某些方面可以简洁的实现；
  3. 个人比较欣赏从非pair数据中获取回复这块，弥补了“检索pair数据更新”和“生成式策略偏向于通用性回复”的缺陷，更进一步，是不是可以在更新pair数据源的基础上直接检索pair数据本身，然后回复pair句子本身？
  4. 不得不说微软为留住用户实现了很多“花式策略”。

#### more:
  1. [沈向洋等重磅论文：公开微软小冰系统设计](http://www.qianjia.com/html/2018-12/29_318304.html)
